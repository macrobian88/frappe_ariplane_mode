# üöÄ Complete Setup Guide: Airport Shop Management System\n\nThis guide provides step-by-step instructions for setting up the complete Airport Shop Management system with workspace, demo data, and all functionality.\n\n## üìã Table of Contents\n\n1. [Quick Setup](#quick-setup)\n2. [Detailed Installation](#detailed-installation)\n3. [Workspace Configuration](#workspace-configuration)\n4. [Demo Data Installation](#demo-data-installation)\n5. [Testing & Verification](#testing--verification)\n6. [Troubleshooting](#troubleshooting)\n7. [Advanced Configuration](#advanced-configuration)\n\n## üöÄ Quick Setup\n\n### Prerequisites\n- Frappe Framework v15.x\n- ERPNext v15.x (optional, for enhanced features)\n- Python 3.8+\n- MariaDB/PostgreSQL\n\n### 1-Minute Setup\n\n```bash\n# Clone the repository\ngit clone https://github.com/macrobian88/frappe_ariplane_mode.git\ncd frappe_ariplane_mode\n\n# Install the app\nbench get-app . --branch main\nbench --site your-site-name install-app airplane_mode\n\n# Install demo data\nbench --site your-site-name execute airplane_mode.install_demo_data\n\n# Clear cache and restart\nbench clear-cache\nbench restart\n```\n\n## üîß Detailed Installation\n\n### Step 1: Install Frappe App\n\n```bash\n# Navigate to your bench directory\ncd frappe-bench\n\n# Get the app from GitHub\nbench get-app https://github.com/macrobian88/frappe_ariplane_mode.git\n\n# Install on your site\nbench --site your-site-name install-app airplane_mode\n```\n\n### Step 2: Verify Installation\n\n```bash\n# Check if app is installed\nbench --site your-site-name list-apps\n\n# You should see airplane_mode in the list\n```\n\n### Step 3: Apply Database Migrations\n\n```bash\n# Run migrations\nbench --site your-site-name migrate\n\n# Clear cache\nbench --site your-site-name clear-cache\n```\n\n## üè¢ Workspace Configuration\n\n### Airport Shop Management Workspace\n\nThe workspace is automatically installed and includes:\n\n#### üìä Dashboard Cards\n- **Occupied Shops** (Blue) - Real-time count\n- **Vacant Shops** (Red) - Available spaces\n- **Total Monthly Revenue** (Green) - Sum of rent\n- **Active Tenants** (Purple) - Current tenant count\n\n#### üöÄ Quick Shortcuts\n- **Airport Shops** - Manage shop records\n- **Shop Types** - Configure shop categories\n- **Tenants** - Manage tenant information\n- **Shop Lease Contracts** - Handle lease agreements\n- **Reports** - Analytics and summaries\n\n#### üìù Quick Lists\n- **Available Shops** - Vacant shops ready for lease\n- **Expiring Contracts** - Contracts ending in 90 days\n- **Active Tenants** - Current valid contracts\n\n### Accessing the Workspace\n\n1. Log into your Frappe site\n2. Look for \"Airport Shop Management\" in the sidebar\n3. Click to open the workspace\n4. Explore the dashboard and shortcuts\n\n## üìä Demo Data Installation\n\n### Option 1: Automatic Installation\n\n```bash\n# Run the demo data installation script\nbench --site your-site-name execute airplane_mode.install_demo_data\n```\n\n### Option 2: Manual Installation\n\n```bash\n# Download and run the installation script\nwget https://raw.githubusercontent.com/macrobian88/frappe_ariplane_mode/main/install_demo_data.py\nbench --site your-site-name execute install_demo_data.py\n```\n\n### Option 3: Custom Installation\n\n```bash\n# Run the script with Python\nbench --site your-site-name console\n```\n\nThen in the console:\n```python\nexec(open('install_demo_data.py').read())\n```\n\n### Demo Data Includes\n\n**‚úàÔ∏è Airlines (10 total)**\n- American Airlines, Delta, United, Emirates, British Airways\n- Lufthansa, Air India, Sky Airways, Global Wings, Ocean Air\n\n**üè¢ Airports (10 total)**\n- JFK (New York), LHR (London), LAX (Los Angeles)\n- DXB (Dubai), SIN (Singapore), FRA (Frankfurt)\n- Plus existing airports from your system\n\n**‚úàÔ∏è Airplanes (15+ total)**\n- Boeing 737-800, 777-300ER, 787-9, 747-8\n- Airbus A320, A350-900, A380-800, A321neo\n- Assigned to different airlines with realistic capacities\n\n**üè™ Shop Types (12 total)**\n- Restaurant, Coffee Shop, Duty Free, Electronics\n- Bookstore, Pharmacy, Fashion, Convenience Store\n- Car Rental, Premium Restaurant, Fast Food, etc.\n\n**üõçÔ∏è Airport Shops (20 total)**\n- Realistic shops across multiple airports\n- Mix of occupied and vacant spaces\n- Varied rent amounts and contract dates\n- Famous brands like Starbucks, McDonald's, Apple Store\n\n**üë• Customers & Tenants (8 each)**\n- Major corporations as customers\n- Linked tenants with realistic contract terms\n- Email addresses and contact information\n\n## ‚úÖ Testing & Verification\n\n### Step 1: Verify Workspace\n\n1. **Access Workspace**: Navigate to \"Airport Shop Management\"\n2. **Check Dashboard**: Verify number cards show data\n3. **Test Shortcuts**: Click on various shortcuts\n4. **Review Quick Lists**: Check filtered views\n\n### Step 2: Test Core Functionality\n\n#### Create a Shop Lease Contract\n\n1. Go to \"Shop Lease Contracts\" in the workspace\n2. Click \"New\"\n3. Select an Airport Shop (should work without errors)\n4. Fill in tenant and contract details\n5. Save the contract\n\n#### Verify Search Functionality\n\n1. Open any form with Airport Shop link field\n2. Start typing in the link field\n3. Verify shops appear in dropdown\n4. No \"AttributeError\" should occur\n\n### Step 3: Check Reports\n\n1. **Occupancy Report**: View shop utilization\n2. **Revenue Summary**: Check financial data\n3. **Contract Expiry**: Review upcoming renewals\n\n## üõ†Ô∏è Troubleshooting\n\n### Common Issues\n\n#### 1. Workspace Not Appearing\n\n```bash\n# Reload workspace\nbench --site your-site-name reload-doctype \"Workspace\"\n\n# Clear cache\nbench clear-cache\n\n# Restart\nbench restart\n```\n\n#### 2. Permission Errors\n\n```bash\n# Check user roles\nbench --site your-site-name add-user-role your-email \"System Manager\"\n\n# Reload permissions\nbench --site your-site-name reload-doctype \"Airport Shop\"\n```\n\n#### 3. Airport Shop Search Error\n\nThe permission fix should be automatically applied. If issues persist:\n\n```bash\n# Download the fixed file\nwget -O airplane_mode/airplane_mode/doctype/airport_shop/airport_shop.py \\\n  https://raw.githubusercontent.com/macrobian88/frappe_ariplane_mode/main/airplane_mode/airplane_mode/doctype/airport_shop/airport_shop.py\n\n# Restart\nbench restart\n```\n\n#### 4. Demo Data Issues\n\n```bash\n# Check error logs\nbench logs\n\n# Retry installation\nbench --site your-site-name execute airplane_mode.install_demo_data\n\n# Manual cleanup if needed\nbench --site your-site-name execute airplane_mode.install_demo_data --args \"--cleanup\"\n```\n\n### Checking Installation Status\n\n```bash\n# Verify app installation\nbench --site your-site-name list-apps\n\n# Check DocTypes\nbench --site your-site-name list-doctypes | grep -E \"(Airport|Shop|Tenant)\"\n\n# Verify data\nbench --site your-site-name console\n```\n\nIn console:\n```python\nimport frappe\nprint(f\"Airport Shops: {frappe.db.count('Airport Shop')}\")\nprint(f\"Tenants: {frappe.db.count('Tenant')}\")\nprint(f\"Airlines: {frappe.db.count('Airline')}\")\n```\n\n## üîß Advanced Configuration\n\n### Custom Workspace Modifications\n\n1. **Edit Workspace**: Navigate to Workspace DocType\n2. **Find Record**: Search for \"Airport Shop Management\"\n3. **Modify Settings**: Update colors, shortcuts, or layout\n4. **Save Changes**: Apply modifications\n\n### Adding Custom Reports\n\n```python\n# Create custom query report\nfrom frappe.custom.doctype.custom_field.custom_field import create_custom_field\n\n# Add custom fields to Airport Shop\ncreate_custom_field(\"Airport Shop\", {\n    \"fieldname\": \"revenue_category\",\n    \"label\": \"Revenue Category\",\n    \"fieldtype\": \"Select\",\n    \"options\": \"High\\nMedium\\nLow\"\n})\n```\n\n### Backup and Restore\n\n```bash\n# Backup site data\nbench --site your-site-name backup --with-files\n\n# Restore from backup\nbench --site your-site-name restore /path/to/backup.sql.gz --with-public-files /path/to/files.tar --with-private-files /path/to/private-files.tar\n```\n\n## üìà Performance Optimization\n\n### Database Indexing\n\n```sql\n-- Add indexes for better performance\nCREATE INDEX idx_airport_shop_occupied ON `tabAirport Shop`(is_occupied);\nCREATE INDEX idx_airport_shop_airport ON `tabAirport Shop`(airport);\nCREATE INDEX idx_tenant_contract_end ON `tabTenant`(contract_end_date);\n```\n\n### Caching Configuration\n\n```python\n# In hooks.py, add caching\ndoc_events = {\n    \"Airport Shop\": {\n        \"on_update\": \"airplane_mode.utils.clear_airport_shop_cache\"\n    }\n}\n```\n\n## üîí Security Considerations\n\n### Role-Based Access\n\n1. **Create Custom Roles**:\n   - Airport Manager\n   - Shop Coordinator\n   - Tenant Manager\n   - Report Viewer\n\n2. **Configure Permissions**:\n   - Limit shop access by airport\n   - Restrict financial data access\n   - Control report viewing\n\n### Data Protection\n\n```python\n# Add data validation in Airport Shop DocType\ndef validate(self):\n    if self.rent_amount < 0:\n        frappe.throw(\"Rent amount cannot be negative\")\n    \n    if self.area_sq_feet <= 0:\n        frappe.throw(\"Area must be positive\")\n```\n\n## üìû Support & Resources\n\n### Documentation\n- [Frappe Framework Docs](https://frappeframework.com/docs)\n- [ERPNext User Manual](https://docs.erpnext.com)\n\n### Community\n- [Frappe Forum](https://discuss.frappe.io)\n- [GitHub Issues](https://github.com/macrobian88/frappe_ariplane_mode/issues)\n\n### Getting Help\n\n1. Check the troubleshooting section above\n2. Review error logs: `bench logs`\n3. Search existing issues on GitHub\n4. Create a new issue with detailed error information\n\n## üéØ Next Steps\n\nAfter successful installation:\n\n1. **Explore the Workspace**: Familiarize yourself with all features\n2. **Create Test Data**: Add your own shops and contracts\n3. **Customize Reports**: Build reports specific to your needs\n4. **Train Users**: Introduce team members to the system\n5. **Backup Regularly**: Set up automated backups\n\n---\n\n**Version**: 1.0.0  \n**Last Updated**: September 16, 2025  \n**Compatible With**: Frappe v15.x, ERPNext v15.x  \n**Repository**: https://github.com/macrobian88/frappe_ariplane_mode\n\nüéâ **Congratulations!** You now have a fully functional Airport Shop Management system with comprehensive demo data and workspace configuration.\n"